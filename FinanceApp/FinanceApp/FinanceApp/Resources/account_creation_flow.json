{
  "flowId": "account_creation_v1",
  "version": "1.0.0",
  "screens": [
    {
      "id": "create_account",
      "orderId": 1,
      "title": "Let's get started",
      "subtitle": "Enter your information to open a new investment account",
      "headerTitle": "INVESTMENT ACCOUNT OPENING",
      "showBackButton": true,
      "progress": {
        "currentStep": 1,
        "totalSteps": 3
      },
      "fields": [
        {
          "id": "national_id",
          "orderId": 1,
          "type": "text_field",
          "label": "National ID/Iqama number",
          "placeholder": "Enter your National ID/Iqama number",
          "keyboard": "number_pad",
          "inputFilter": "^[0-9]*$",
          "maxLength": 10,
          "validations": [
            {
              "type": "required",
              "message": "National ID/Iqama number is required"
            },
            {
              "type": "min_length",
              "value": 10,
              "message": "National ID/Iqama number must be at least 10 characters"
            }
          ]
        },
        {
          "id": "mobile_number",
          "orderId": 2,
          "type": "phone_field",
          "label": "Mobile number",
          "placeholder": "Mobile number",
          "defaultCountryCode": "+966",
          "inputFilter": "^[0-9]*$",
          "maxLength": 15,
          "validations": [
            {
              "type": "required",
              "message": "Mobile number is required"
            },
            {
              "type": "phone",
              "message": "Invalid phone number"
            }
          ]
        },
        {
          "id": "email",
          "orderId": 3,
          "type": "text_field",
          "label": "Email address",
          "placeholder": "Enter your email address",
          "keyboard": "email",
          "inputFilter": "^[A-Za-z0-9._%+-@]*$",
          "maxLength": 100,
          "validations": [
            {
              "type": "required",
              "message": "Email address is required"
            },
            {
              "type": "email",
              "message": "Invalid email format"
            }
          ]
        }
      ],
      "actions": [
        {
          "id": "continue",
          "type": "primary_button",
          "title": "Continue",
          "action": "navigate_next"
        }
      ]
    },
    {
      "id": "personal_details_1",
      "orderId": 2,
      "title": "Personal details",
      "subtitle": "Enter your personal information",
      "headerTitle": "INVESTMENT ACCOUNT OPENING",
      "showBackButton": true,
      "progress": {
        "currentStep": 2,
        "totalSteps": 3
      },
      "fields": [
        {
          "id": "full_name",
          "type": "text_field",
          "label": "Full name (as shown on passport)",
          "placeholder": "Enter your full name",
          "isDisabled": true,
          "defaultValue": "Khalid Abdullah Al Qubaisi",
          "validations": [
            {
              "type": "required",
              "message": "Full name is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "date_of_birth",
          "type": "date_picker",
          "label": "Date of birth",
          "placeholder": "DD-MM-YYYY",
          "dateFormat": "dd-MM-yyyy",
          "isDisabled": true,
          "defaultValue": "19-10-1990",
          "validations": [
            {
              "type": "required",
              "message": "Date of birth is required"
            },
            {
              "type": "min_age",
              "value": 18,
              "message": "Must be at least 18 years old"
            }
          ]
        },
        {
          "id": "nationality",
          "type": "text_field",
          "label": "Nationality",
          "placeholder": "Enter your nationality",
          "isDisabled": true,
          "defaultValue": "France",
          "validations": [
            {
              "type": "required",
              "message": "Nationality is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "place_of_birth",
          "type": "text_field",
          "label": "Place of birth",
          "placeholder": "Enter your place of birth",
          "isDisabled": true,
          "defaultValue": "Paris",
          "validations": [
            {
              "type": "required",
              "message": "Place of birth is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "marital_status",
          "type": "dropdown",
          "label": "Marital status",
          "placeholder": "Select marital status",
          "options": [
            {
              "id": "married",
              "label": "Married"
            },
            {
              "id": "single",
              "label": "Single"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "Marital status is required"
            }
          ]
        },
        {
          "id": "number_of_dependents",
          "orderId": 6,
          "type": "text_field",
          "label": "Number of dependents",
          "placeholder": "Enter number of dependents",
          "keyboard": "number_pad",
          "inputFilter": "^[0-9]*$",
          "maxLength": 2,
          "validations": [
            {
              "type": "numeric",
              "message": "Must be a number"
            }
          ]
        },
        {
          "id": "education_level",
          "type": "dropdown",
          "label": "Education level",
          "placeholder": "Select education level",
          "options": [
            {
              "id": "high_school",
              "label": "High School"
            },
            {
              "id": "bachelors",
              "label": "Bachelor's Degree"
            },
            {
              "id": "masters",
              "label": "Master's Degree"
            },
            {
              "id": "doctorate",
              "label": "Doctorate"
            },
            {
              "id": "other",
              "label": "Other"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "Education level is required"
            }
          ]
        },
        {
          "id": "are_you_owner",
          "type": "radio_group",
          "label": "Are you the ultimate beneficial owner?",
          "options": [
            {
              "id": "yes",
              "label": "Yes"
            },
            {
              "id": "no",
              "label": "No (specify)"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "This field is required"
            }
          ]
        },
        {
          "id": "dual_nationality",
          "type": "radio_group",
          "label": "Do you have a dual nationality?",
          "options": [
            {
              "id": "no",
              "label": "No"
            },
            {
              "id": "yes",
              "label": "Yes (specify)"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "This field is required"
            }
          ]
        },
        {
          "id": "dual_nationality_country",
          "type": "text_field",
          "label": "Specify dual nationality country",
          "placeholder": "Enter country name",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "dual_nationality",
                "value": "yes"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Please specify your dual nationality country"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "immigrant_visa_status",
          "type": "radio_group",
          "label": "Do you have an immigrant visa or permanent resident status in a country other than Saudi Arabia?",
          "options": [
            {
              "id": "no",
              "label": "No"
            },
            {
              "id": "yes",
              "label": "Yes (specify)"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "This field is required"
            }
          ]
        },
        {
          "id": "immigrant_visa_country",
          "type": "text_field",
          "label": "Specify country and visa type",
          "placeholder": "Enter country and visa type",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "immigrant_visa_status",
                "value": "yes"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Please specify the country and visa type"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "tax_identification_number",
          "type": "text_field",
          "label": "Tax Identification Number (TIN)",
          "placeholder": "Enter your TIN",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "immigrant_visa_status",
                "value": "yes"
              },
              {
                "fieldId": "marital_status",
                "value": "married"
              }
            ],
            "operator": "AND"
          },
          "validations": [
            {
              "type": "required",
              "message": "TIN is required for married individuals with visa status"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "residence_type",
          "type": "radio_group",
          "label": "Residence type",
          "options": [
            {
              "id": "rented",
              "label": "Rented"
            },
            {
              "id": "owned",
              "label": "Owned"
            },
            {
              "id": "provided_by_family_employer",
              "label": "Provided by family/employer"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "This field is required"
            }
          ]
        }
      ],
      "actions": [
        {
          "id": "continue",
          "type": "primary_button",
          "title": "Continue",
          "action": "submit"
        }
      ]
    },
    {
      "id": "financial_details",
      "orderId": 3,
      "title": "Financial details",
      "subtitle": "Enter your source of income and wealth",
      "headerTitle": "INVESTMENT ACCOUNT OPENING",
      "showBackButton": true,
      "progress": {
        "currentStep": 3,
        "totalSteps": 3
      },
      "fields": [
        {
          "id": "approximate_annual_income",
          "type": "dropdown",
          "label": "Approximate annual income",
          "placeholder": "Select range",
          "options": [
            {
              "id": "10000-50000",
              "label": "10,000.01 SAR - 50,000.00 SAR"
            },
            {
              "id": "50000-100000",
              "label": "50,000.01 SAR - 100,000.00 SAR"
            },
            {
              "id": "100000-500000",
              "label": "100,000.01 SAR - 500,000.00 SAR"
            },
            {
              "id": "500000-1000000",
              "label": "500,000.01 SAR - 1,000,000.00 SAR"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "Annual income is required"
            }
          ]
        },
        {
          "id": "source_of_income",
          "type": "dropdown",
          "label": "Source of income",
          "placeholder": "Select source",
          "isMultiSelect": true,
          "options": [
            {
              "id": "employment",
              "label": "Employment"
            },
            {
              "id": "retirement",
              "label": "Retirement"
            },
            {
              "id": "government_aid",
              "label": "Government aid"
            },
            {
              "id": "investment_assets",
              "label": "Investment assets"
            },
            {
              "id": "income_from_trading_activities",
              "label": "Income from trading activities"
            },
            {
              "id": "income_from_skilled_activities",
              "label": "Income from skilled activities"
            },
            {
              "id": "family_support",
              "label": "Family support"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "Source of income is required"
            }
          ]
        },
        {
          "id": "employment_section_label",
          "type": "label",
          "label": "",
          "text": "Employment",
          "style": "section",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "employment"
              }
            ]
          }
        },
        {
          "id": "employment_status",
          "type": "dropdown",
          "label": "Status",
          "placeholder": "Select status",
          "options": [
            {
              "id": "currently_working",
              "label": "Currently working"
            },
            {
              "id": "not_working",
              "label": "Not working"
            }
          ],
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "employment",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Employment status is required"
            }
          ]
        },
        {
          "id": "employment_sector",
          "type": "dropdown",
          "label": "Employment sector",
          "placeholder": "Select sector",
          "options": [
            {
              "id": "public_sector",
              "label": "Public sector"
            },
            {
              "id": "private_sector",
              "label": "Private sector"
            },
            {
              "id": "self_employed",
              "label": "Self-employed"
            }
          ],
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "employment",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Employment sector is required"
            }
          ]
        },
        {
          "id": "employer_name",
          "type": "text_field",
          "label": "Employer name",
          "placeholder": "Enter employer name",
          "isDisabled": true,
          "defaultValue": "Emirates NBD",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "employment",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Employer name is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "job_title",
          "type": "text_field",
          "label": "Job title",
          "placeholder": "Enter job title",
          "defaultValue": "Product Owner",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "employment",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Job title is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "years_of_service",
          "type": "dropdown",
          "label": "Years of service",
          "placeholder": "Select years",
          "options": [
            {
              "id": "less_than_1",
              "label": "Less than 1 year"
            },
            {
              "id": "1-3",
              "label": "1-3 years"
            },
            {
              "id": "3-5",
              "label": "3-5 years"
            },
            {
              "id": "5-10",
              "label": "5-10 years"
            },
            {
              "id": "more_than_10",
              "label": "More than 10 years"
            }
          ],
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "employment",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Years of service is required"
            }
          ]
        },
        {
          "id": "employer_mailing_address",
          "type": "text_field",
          "label": "Employer mailing address",
          "placeholder": "Enter address",
          "defaultValue": "Meydan Block M, Meydan, Duai",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "employment",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Employer address is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "employer_phone_number",
          "orderId": 23,
          "type": "phone_field",
          "label": "Employer phone number",
          "placeholder": "Phone number",
          "defaultCountryCode": "+966",
          "defaultValue": "476633333",
          "inputFilter": "^[0-9]*$",
          "maxLength": 15,
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "employment",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Employer phone number is required"
            },
            {
              "type": "phone",
              "message": "Invalid phone number"
            }
          ]
        },
        {
          "id": "investment_assets_section_label",
          "type": "label",
          "label": "",
          "text": "Investment assets",
          "style": "section",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "investment_assets",
                "operator": "contains"
              }
            ]
          }
        },
        {
          "id": "investment_asset_types",
          "type": "dropdown",
          "label": "Specify your investment assets",
          "placeholder": "Select assets",
          "isMultiSelect": true,
          "options": [
            {
              "id": "dividends",
              "label": "Dividends"
            },
            {
              "id": "real_estate_rent",
              "label": "Real estate rent"
            },
            {
              "id": "cash_deposits",
              "label": "Cash deposits"
            },
            {
              "id": "fixed_income",
              "label": "Fixed income"
            }
          ],
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "investment_assets",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Please specify your investment assets"
            }
          ]
        },
        {
          "id": "trading_activities_section_label",
          "type": "label",
          "label": "",
          "text": "Income from trading activities",
          "style": "section",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "income_from_trading_activities",
                "operator": "contains"
              }
            ]
          }
        },
        {
          "id": "trading_entity_name",
          "type": "text_field",
          "label": "Entity name",
          "placeholder": "Enter entity name",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "income_from_trading_activities",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Entity name is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "trading_business_activity",
          "type": "text_field",
          "label": "Business activity",
          "placeholder": "Enter business activity",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "income_from_trading_activities",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Business activity is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "skilled_activities_section_label",
          "type": "label",
          "label": "",
          "text": "Income from skilled activities",
          "style": "section",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "income_from_skilled_activities",
                "operator": "contains"
              }
            ]
          }
        },
        {
          "id": "skilled_activity",
          "type": "text_field",
          "label": "Specify your skilled activity",
          "placeholder": "Enter skilled activity",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "income_from_skilled_activities",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Skilled activity is required"
            }
          ],
          "keyboard": "default"
        },
        {
          "id": "family_support_section_label",
          "type": "label",
          "label": "",
          "text": "Family support",
          "style": "section",
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "family_support",
                "operator": "contains"
              }
            ]
          }
        },
        {
          "id": "family_relationship",
          "type": "dropdown",
          "label": "Relationship",
          "placeholder": "Select relationship",
          "options": [
            {
              "id": "parent",
              "label": "Parent"
            },
            {
              "id": "spouse",
              "label": "Spouse"
            },
            {
              "id": "sibling",
              "label": "Sibling"
            },
            {
              "id": "child",
              "label": "Child"
            },
            {
              "id": "other",
              "label": "Other"
            }
          ],
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "source_of_income",
                "value": "family_support",
                "operator": "contains"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Relationship is required"
            }
          ]
        },
        {
          "id": "approximate_net_worth",
          "type": "dropdown",
          "label": "Approximate net worth",
          "placeholder": "Select range",
          "options": [
            {
              "id": "10000-50000",
              "label": "10,000.01 SAR - 50,000.00 SAR"
            },
            {
              "id": "50000-100000",
              "label": "50,000.01 SAR - 100,000.00 SAR"
            },
            {
              "id": "100000-500000",
              "label": "100,000.01 SAR - 500,000.00 SAR"
            },
            {
              "id": "500000-1000000",
              "label": "500,000.01 SAR - 1,000,000.00 SAR"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "Net worth is required"
            }
          ]
        },
        {
          "id": "source_of_wealth",
          "type": "dropdown",
          "label": "Source of wealth",
          "placeholder": "Select source",
          "options": [
            {
              "id": "employment",
              "label": "Employment"
            },
            {
              "id": "business",
              "label": "Business"
            },
            {
              "id": "inheritance",
              "label": "Inheritance"
            },
            {
              "id": "investments",
              "label": "Investments"
            },
            {
              "id": "pension",
              "label": "Pension"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "Source of wealth is required"
            }
          ]
        },
        {
          "id": "worked_in_financial_sector",
          "type": "radio_group",
          "label": "Have you worked in the financial sector during the last 5 years?",
          "options": [
            {
              "id": "yes",
              "label": "Yes"
            },
            {
              "id": "no",
              "label": "No"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "This field is required"
            }
          ]
        },
        {
          "id": "years_in_financial_sector",
          "type": "dropdown",
          "label": "Specify the number of years",
          "placeholder": "Select years",
          "options": [
            {
              "id": "1",
              "label": "1 year"
            },
            {
              "id": "2",
              "label": "2 years"
            },
            {
              "id": "3",
              "label": "3 years"
            },
            {
              "id": "4",
              "label": "4 years"
            },
            {
              "id": "5",
              "label": "5 years"
            }
          ],
          "conditionalVisibility": {
            "conditions": [
              {
                "fieldId": "worked_in_financial_sector",
                "value": "yes"
              }
            ]
          },
          "validations": [
            {
              "type": "required",
              "message": "Please specify the number of years"
            }
          ]
        },
        {
          "id": "practical_experience_financial_sector",
          "type": "radio_group",
          "label": "Do you have any other practical experience related to the financial sector?",
          "options": [
            {
              "id": "yes",
              "label": "Yes"
            },
            {
              "id": "no",
              "label": "No"
            }
          ],
          "validations": [
            {
              "type": "required",
              "message": "This field is required"
            }
          ]
        }
      ],
      "actions": [
        {
          "id": "continue",
          "type": "primary_button",
          "title": "Continue",
          "action": "navigate_next"
        }
      ]
    }
  ]
}
